---
title: パート 2 - アーキテクチャ
description: このドキュメントでは、クロス プラットフォーム アプリケーションの構築に役立つアーキテクチャ パターンについて説明します。 一般的なアプリケーション レイヤー (データ層、データ アクセス層など) と (MVVM、MVC など) の一般的なモバイル ソフトウェア パターンについて説明します
ms.prod: xamarin
ms.assetid: 2176DB2D-E84A-3757-CFAB-04A586068D50
author: asb3993
ms.author: amburns
ms.date: 03/27/2017
ms.openlocfilehash: cfb2bddceea7717ac87bd7a78fd9cd45e8b93144
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "61285149"
---
# <a name="part-2---architecture"></a>パート 2 - アーキテクチャ

クロス プラットフォーム アプリの構築の主要理念では、プラットフォーム間で共有コードの活用を最大化に向いているアーキテクチャを作成します。 次のようなオブジェクト指向プログラミングの原則に従うことにより適切に設計されたアプリケーションを構築します。

-   **カプセル化**– ことを確認するクラスともアーキテクチャのレイヤーのみを公開実行が必要な最小限の API 関数、および実装の詳細を非表示にします。 クラス レベルにはオブジェクトが 'ブラック_ボックス' として動作して、そのタスクを実行する方法を把握するコードを実行しない必要がないことことを意味します。 アーキテクチャのレベルでより抽象レイヤーでコードに代わってより複雑な対話を調整する簡略化された API を促進するファサードのようなパターンの実装を意味します。 つまり、UI コード (たとえば) する必要がありますのみ画面を表示して、ユーザー入力を受け入れる責任を負います直接、データベースと対話することはありません。 同様にデータ アクセス コードのみを読み取ると、データベースへの書き込みがボタンやラベルを直接やり取りを行わない。
-   **役割の分離**– 各コンポーネントを確認します (両方でアーキテクチャ レベルのクラスと) は明確かつ明確に定義された目的があります。 各コンポーネントは、定義されたタスクのみを実行し、それを使用する必要がある他のクラスにアクセスできる API を使用してその機能を公開する必要があります。
-   **ポリモーフィズム**– core コードの記述し、プラットフォーム固有の機能とも対話中に、プラットフォームで共有を複数の実装方法をサポートするプログラミング インターフェイス (または抽象クラス)。


当然の結果は、現実の世界または別の論理レイヤーを持つ抽象エンティティの後にモデル化されたアプリケーションです。 レイヤー アプリケーションを簡単に理解、テスト、および維持には、コードを分離することです。 (いずれかのディレクトリまたは非常に大規模なアプリケーションでも個別のプロジェクトで) 物理的に分離と論理的に個別の (名前空間を使用して) 各レイヤーのコードがあることをお勧めします。

 <a name="Typical_Application_Layers" />


## <a name="typical-application-layers"></a>一般的なアプリケーション レイヤー

このドキュメントとケース スタディを通してには、次の 6 つのアプリケーション層を参照してください。

-   **データ層**– 非揮発性データの永続化、SQLite データベースを使用する可能性がありますが、XML ファイルやその他の適切なメカニズムを実装できます。
-   **データ アクセス層**– 作成、読み取り、更新、呼び出し元に実装の詳細を公開することがなくデータへの削除 (CRUD) アクセスを提供するデータ層のラッパーです。 たとえば、DAL は、クエリやデータを更新する SQL ステートメントを含めることができますが、参照元のコードは、これを理解する必要はありません。
-   **ビジネス層**– (ビジネス ロジック層または BLL とも呼ばれます) ビジネス エンティティの定義 (モデル) とビジネス ロジックが含まれています。 ビジネスのファサード パターンの候補。
-   **サービスへのアクセス層**– 使用されているクラウド サービスへのアクセス: リモート サーバーからのデータと画像の取得の単純な複雑な web サービス (REST、JSON、WCF) から。 ネットワークの動作をカプセル化し、アプリケーションと UI レイヤーで使用する単純な API を提供します。
-   **アプリケーション層**– プラットフォーム固有の (プラットフォームでは、一般に共有) は、通常、またはコードをコードは (一般に再利用) のアプリケーションに固有です。 UI 層とアプリケーション層でコードを配置するかどうかをテストする方法としては、クラスが、実際の表示コントロールを持つかどうか、または (b) かどうか、でした間で共有する複数の画面やデバイス (例: を判断するには (a) iPhone と iPad)。
-   **ユーザー インターフェイス (UI) 層**– ユーザー向けのレイヤーには、画面、ウィジェットが含まれていて、管理するコント ローラー。


アプリケーションが必ずしもが含まれていないすべてのレイヤーには – サービスのアクセス層はネットワーク リソースにアクセスしないアプリケーションに存在しないなどです。 非常に単純なアプリケーションは、操作は非常に基本的なため、データ層とデータ アクセス層をマージする場合があります。

 <a name="Common_Mobile_Software_Patterns" />


## <a name="common-mobile-software-patterns"></a>モバイル ソフトウェアの一般的なパターン

パターンは、確立された定期的な一般的な問題の解決策をキャプチャする方法です。 /わかりやすく保守性の高いモバイル アプリケーションの構築に把握するのに役立ちますが、いくつかの主要パターンがあります。

-   **モデル、ビュー、ビューモデル (MVVM)** –、モデル-ビュー-ビューモデル パターンは、人気のある Xamarin.Forms など、データ バインディングをサポートするフレームワークを使用します。 Windows Presentation Foundation (WPF) や Silverlight のような XAML が有効な Sdk によって普及した不定期に場所、ViewModel は、データ (モデル) とデータ バインディングとコマンドを使用してユーザー インターフェイス (ビュー) の間の仲介として機能します。
-   **モデル ビュー コント ローラー (MVC)** – 一般的なとよく誤解されているパターンでは、MVC はユーザー インターフェイスを構築する際に、最もよく使用し、UI 画面 (ビュー) を処理するその背後にあるエンジンの実際の定義を分離しています相互作用 (コント ローラー) と (モデル) を作成するデータ。 モデルが完全に省略可能な部分では実際には、ビューとコント ローラーでこのパターンを理解することのコアがあるため、します。 MVC は、iOS アプリケーションの一般的なアプローチです。
-   **ビジネスのファサード**– マネージャーのパターンとも呼ばれる複雑な作業の簡略化されたエントリ ポイントを提供します。 たとえば、タスク追跡アプリケーションでは、する必要があります、`TaskManager`などの方法でクラス`GetAllTasks()`、 `GetTask(taskID)` 、`SaveTask (task)`など。`TaskManager`クラスは、実際に保存/取得するタスク オブジェクトの内部動作にファサードを提供します。
-   **シングルトン**– 特定のオブジェクトのインスタンスが 1 つだけをこれまで存在する方法については、シングルトン パターンを提供します。 たとえば、モバイル アプリケーションでの SQLite を使用する場合のみたくなったデータベースの 1 つのインスタンス。 このことを確認する簡単な方法は、シングルトン パターンを使用します。
-   **プロバイダー** – パターンが、Silverlight、WPF および WinForms アプリケーション間でコードの再利用をお勧め造語 microsoft (戦略、つまり、基本的な依存関係の挿入におそらく似ています)。 インターフェイスまたは抽象クラスは、に対して共有コードを記述することができ、プラットフォーム固有の具体的な実装が書き込まれ、コードを使用するときに渡されました。
-   **非同期**– Async キーワード、実行時間の長い作業は、UI または現在の処理を保持することがなく実行する必要がある場合、パターンが使用される非同期と混同しないようにします。 最も単純な形式で非同期パターンだけ説明別の実行時間の長いタスクを開始することは処理を続行し、バック グラウンド プロセスからの応答をリッスン スレッド (またはタスクなどのようなスレッドの抽象化) 中、現在のスレッドに、し、データまたは状態が返されるときに、UI を更新します。


各パターンのケース スタディでその実際の使用が示すように詳細に検査されます。 Wikipedia の説明の詳細は、 [MVVM](https://en.wikipedia.org/wiki/Model–view–viewmodel)、 [MVC](https://en.wikipedia.org/wiki/Model–view–controller)、[ファサード](https://en.wikipedia.org/wiki/Facade_pattern)、[シングルトン](https://en.wikipedia.org/wiki/Singleton_pattern)、[戦略](https://en.wikipedia.org/wiki/Strategy_pattern)と[プロバイダー](https://en.wikipedia.org/wiki/Provider_model)パターン (および[設計パターン](https://en.wikipedia.org/wiki/Design_Patterns)一般的)。
