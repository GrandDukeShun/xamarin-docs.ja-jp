---
title: Xamarin.iOS でのコード生成の .xib
description: このドキュメントでは、Xamarin.iOS がマップに .xib ファイルにコードを生成する方法について説明しますC#、ビジュアル コントロールをプログラムでアクセスできるようにします。
ms.prod: xamarin
ms.assetid: 365991A8-E07A-0420-D28E-BC4D32065E1A
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 03/21/2017
ms.openlocfilehash: 57988374b4383f5659e29edff3834958b8f99f1b
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "61035936"
---
# <a name="xib-code-generation-in-xamarinios"></a>Xamarin.iOS でのコード生成の .xib

> [!IMPORTANT]
>  このドキュメントは、Mac の Xcode の Interface Builder にのみ、統合のための Visual Studio をについて説明しますアクションとアウトレットいないデザイナーでの使用、Xamarin iOS 用とします。 IOS Designer の詳細についてを参照してください、 [iOS Designer](~/ios/user-interface/designer/index.md)ドキュメント。

Apple の Interface Builder ツール ("IB") は、ユーザー インターフェイスを視覚的にデザインに使用できます。 IB によって作成されたインターフェイス定義に保存 **.xib**ファイル。 ウィジェットとその他のオブジェクトで **.xib** "クラス id を"、カスタムのユーザー定義型を指定できるファイルを指定できます。 これにより、ウィジェットの動作をカスタマイズして、カスタム ウィジェットを記述することができます。

これらのユーザー クラスは、通常、UI のコント ローラー クラスのサブクラスです。 ある*outlet* (プロパティに似ています) と*アクション*(イベントに似ています) をインターフェイス オブジェクトに接続できます。 、実行時に IB ファイルが読み込まれるときに、オブジェクトが作成され、outlet と action が接続されているさまざまな UI オブジェクトを動的にします。 これらのマネージ クラスを定義するときに、すべてのアクションと IB が必要とする一致アウトレットを定義する必要があります。 Visual Studio for Mac では、これを簡単に分離コードのようなモデルを使用します。 For OBJECTIVE-C、Xcode の動作に似ていますが、コード生成のモデルと規則は、.NET 開発者に馴染みのあるを微調整していた。

操作 **.xib**ファイルは現在サポートされていませんで Xamarin.iOS for Visual Studio。

## <a name="xib-files-and-custom-classes"></a>.xib ファイルとカスタム クラス

Cocoa Touch から既存の型を使用するとカスタムの型を定義することは **.xib**ファイル。 その他で定義されている型を使用することも **.xib**ファイル、または純粋で定義されているC#コード。 現時点では、Interface Builder は現在の外部で定義された型の詳細情報を認識しない **.xib**ファイル、それらのリストまたはそのカスタム outlet と action を表示できないようにします。 この制限の削除は、将来の予定です。

カスタム クラスを定義することができます、 **.xib**ファイルの Interface Builder の「クラス」タブの「追加サブクラス」コマンドを使用します。 私たちは、「分離コード」クラスとしてこれらを参照してください。 場合、 **.xib**ファイルは、". xib.designer.cs"プロジェクト Visual Studio for Mac での対応するファイルが自動的に入力が部分クラス定義内のすべてのカスタム クラス、 **.xib**します。 これらの部分クラスを「デザイナー クラス」と呼びます。

## <a name="generating-code"></a>コードの生成

いずれかの **{0}.xib**ファイルのビルド アクションを持つ*ページ*場合を **{0}. xib.designer.cs**ファイルは、プロジェクト、Visual Studio for Mac にも存在します内で見つかったすべてのユーザー クラスのデザイナー ファイルに部分クラスを生成、 **.xib**ファイルをコンセントのプロパティおよび操作のすべての部分メソッドを使用します。 このファイルが存在するだけでは、コードの生成が有効です。

デザイナーのファイルが自動的に更新されたときに、 **.xib**ファイル変更と Visual Studio Mac に再びフォーカスが移ります。 デザイナー ファイルのでは変更できません、手動で変更でも、上書き次回 Visual Studio Mac の更新プログラムをファイルになります。

## <a name="registration-and-namespaces"></a>登録および名前空間

Visual Studio for Mac では、通常の .NET プロジェクト namespacing と一貫性を保つために、デザイナー ファイルの場所では、プロジェクトの既定の名前空間を使用してデザイナー クラスを生成します。 デザイナー ファイルの名前空間は、プロジェクトの「既定の名前空間」と「.NET の名前付けポリシー」設定によって決まります。 プロジェクトの既定の名前空間が変更された場合 MD が再生成、新しい名前空間のクラス、部分クラスが不要になった一致することがありますので注意してください。

クラスを OBJECTIVE-C ランタイムによって探索可能にすると、Visual Studio for Mac が適用されます、`[Register (name)]`属性をクラス。 Xamarin.iOS が自動的に登録が`NSObject`-派生クラスでは、.NET の完全修飾名を使用します。 Mac では、各クラスによりも優先の Visual Studio によって適用された属性がで使用される名前で登録されている、 **.xib**ファイル。 Visual Studio for Mac を使用して、デザイナー ファイルを生成することがなく IB でカスタム クラスを使用する場合は、マネージ クラスに対して予期される Objective C のクラス名を一致させるようにするには、手動でこれを適用する必要があります。

クラスは、1 つ以上定義することはできません **.xib**、競合するか。

## <a name="non-designer-class-parts"></a>デザイナー以外のクラスの部品

として使用する部分クラスのデザイナーが意図されていないのです。 Outlet はプライベートであり、基底クラスが指定されていません。 各クラスを基本クラスを設定、使用または、コンセントを公開し、を読み込むときに、ネイティブコードからクラスをインスタンス化するために必要なコンストラクターを定義します別のファイルに対応する"デザイナーではない"クラスの一部はにされることが予想 **.xib**します。 既定の **.xib**テンプレートは、これでの他のカスタム クラスを定義する、 **.xib**、デザイナー以外の一部を手動で追加する必要があります。

その理由は、柔軟性の必要があります。 たとえば、複数の分離コード クラスには、共通の管理抽象クラスをサブクラス IB によってサブクラス化されたクラスのサブクラスが可能性があります。

これらに配置するには、  **{0}. xib.cs**ファイルの横にある、  **{0}. xib.designer.cs**デザイナー ファイル。

<a name="generated" />

## <a name="generated-actions-and-outlets"></a>生成されたアクションとアウトレット

部分のデザイナー クラスでは、Visual Studio for Mac は、IB、および接続されているアクションに対応する部分メソッドで定義されている任意の接続されたコンセントに対応するプロパティを生成します。

### <a name="outlet-properties"></a>アウトレット プロパティ

デザイナー クラスには、カスタム クラスで定義されているすべてのコンセントに対応するプロパティが含まれます。 プロパティがあるという事実は、遅延バインディングを有効にするを OBJECTIVE-C ブリッジ、Xamarin.iOS の実装の詳細です。 分離コード クラスからのみ使用するためのプライベート フィールドに等価であることを検討してください。 公開する場合は、その他のプライベート フィールドの場合と同様、非デザイナー クラスのパーツにアクセサー プロパティを追加します。

型を持つようにアウトレット プロパティが定義されているかどうかは`id`(に相当`NSObject`) をデザイナー コード ジェネレーターが現在最も強力な利便性のため、その電源コンセントに接続されているオブジェクトに基づく可能な型を判断します。
ただし、この可能性がありますがサポートされていません将来のバージョンでためカスタム クラスを定義するとき、コンセントを明示的に厳密に入力することをお勧めします。

### <a name="action-properties"></a>操作のプロパティ

デザイナー クラスには、カスタム クラスで定義されているすべてのアクションに対応する部分メソッドが含まれます。 これらは、実装を持たないメソッドです。 部分メソッドの目的は、2 つあります。

1.  入力した場合`partial`デザイナー以外のクラスの一部のクラス本体で、Visual Studio for Mac を提供しオートコンプリートするすべての非実装部分メソッドのシグネチャ。
2.  部分メソッドのシグネチャでは、対応するアクションとして処理されるを取得できるように、Objective C の世界に公開するに適用される属性が存在します。


場合は、部分のメソッドを無視する他のメソッドに属性を適用することで、アクションを実装し、その基底クラスへ流れ落ちるまたは可能性があります。

送信者の種類をアクションが定義されているかどうかは`id`(に相当`NSObject`) をデザイナー コード ジェネレーターが現在そのアクションに接続されているオブジェクトに基づく最強の可能な型を判断します。 ただし、この可能性がありますがサポートされていません将来のバージョンでためカスタム クラスを定義するとき、アクションを明示的に厳密に入力することをお勧めします。

これらの部分メソッドは、に対してのみ作成注C#、他の言語は生成されませんので、CodeDOM で部分メソッドをサポートしないためです。

## <a name="cross-xib-class-usage"></a>クロス XIB クラスの使用状況

場合によっては、ユーザーが複数から同じクラスを参照する **.xib**  タブのコント ローラーとなどのファイル。 これを行う明示的に別のクラス定義を参照する **.xib**ファイル、またはを同じクラス名を定義する 2 番目にもう一度 **.xib**します。

後者の場合は、Mac の処理の Visual Studio により問題が生じる可能性 **.xib**ファイルを個別にします。 自動的に検出し、同じ部分クラスが複数のデザイナー ファイルで定義されている場合は、複数回登録属性の適用が競合しているになる可能性がありますので、重複する定義をマージ、ことはできません。 Visual Studio for Mac の最新バージョンは、この問題を解決しようとしていますが、これが常に正常に動作しません。 これは将来的になる、サポートされていない可能性が高いと、Visual Studio for Mac がすべてで定義されたすべての型を作成する代わりに **.xib**ファイルとマネージ コードから直接表示のプロジェクトで **.xib**ファイル。

## <a name="type-resolution"></a>型の解決

IB で使用される型は、OBJECTIVE-C の種類名です。 これらは、登録属性を使用して CLR 型にマップされます。 コンセントとアクションのコードを生成するときに、Visual Studio for Mac は Xamarin.iOS のコアでラップされたすべての Objective C 型の対応する CLR 型を解決して、完全修飾型名。

ただし、このような場合、逐語的型名を出力するため、コード ジェネレーターはユーザー コードやライブラリの Objective C 型から CLR 型を解決現在ことはできません。 つまり、対応する CLR 型が、Objective C 型と同じ名前を指定、それを使用するコードと同じ名前空間に存在する必要があります。 これは、将来的でコード生成中に、プロジェクト内のすべての Objective C 型を考慮してしばらく修正される予定です。
